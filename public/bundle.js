!function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=24)}([function(e,t,n){"use strict";e.exports=(e,t={})=>{const n=t.selector||".heading-datum",a=document.createElement("span");if(a.className="button",t.text){const e=document.createElement("span");e.innerText=t.text,a.appendChild(e)}else{const e=document.createElement("i");e.className=t.className||"",a.appendChild(e)}t.data&&Object.entries(t.data).forEach(([e,t])=>{a.setAttribute(`data-${e}`,t)}),t.onClick&&a.addEventListener("click",t.onClick);const o=e.querySelector(n);o&&o.firstChild?o.insertBefore(a,o.firstChild):e.appendChild(a)}},function(e,t,n){"use strict";const a={method:"POST",mode:"cors",credentials:"include"};e.exports=(e,t,n)=>{let o="";if(t){const e=[];Object.entries(t).forEach(([t,n])=>{n&&e.push(`${encodeURIComponent(t)}=${encodeURIComponent(n)}`)}),e.length&&(o=`?${e.join("&")}`)}const l=Object.assign({headers:{"Content-Type":"application/json"}},a);return n&&(l.body=JSON.stringify(n)),fetch(`https://gcftaskforce-database.org/api/${e}${o}`,l).then(e=>e.ok?e.json():{})}},function(e,t,n){const a=n(8);e.exports=()=>{const e={data:{},submission:{}},t=document.querySelector("form.submission");if(!t)return e;if(t.hasAttributes()){const n=t.attributes;for(let t=n.length-1;t>=0;t-=1)n[t].name.startsWith("data-")&&(e.data[n[t].name.substring(5)]=n[t].value)}return Array.prototype.slice.call(document.getElementsByClassName("entity-property")).forEach(t=>{const n=t.getAttribute("data-property");if(!n)return;a(e.submission,n)||(e.submission[n]={});const o=t.getAttribute("data-row-id"),l=t.getAttribute("data-item");return o?(Array.isArray(e.submission[n])||(e.submission[n]=[]),void e.submission[n].push({id:o,string:t.value})):l?(Array.isArray(e.submission[n])||(e.submission[n]=[]),void(t.checked&&e.submission[n].push(t.value))):void(e.submission[n]=t.value)}),Array.prototype.slice.call(document.getElementsByClassName("summernote")).forEach(t=>{const n=(t.getAttribute("id")||"").split(".");n.length<2||"summernote"===n[0]&&(e.submission[n[1]]=$(t).summernote("code"))}),e}},function(e,t,n){"use strict";const a={height:250,minHeight:null,maxHeight:null,toolbar:[["style",["bold","italic","underline","clear"]],["font",["strikethrough","superscript","subscript"]],["para",["ul","ol","paragraph"]],["insert",["link"]]]},o={minHeight:null,maxHeight:null,toolbar:[["style",["bold","italic","underline","clear"]],["font",["superscript","subscript"]],["insert",["link"]]]};e.exports=(e,t={},n)=>{document.getElementById("modal")&&document.getElementById("modal").remove();const l=document.querySelector("body");if(void 0!==e){if(l.insertAdjacentHTML("beforeend",e(t).trim()),"function"==typeof n){const e=document.getElementById("modal-submit");e&&e.addEventListener("click",n)}$("#modal").modal(),$(".summernote-text").summernote(a),$(".summernote-citation").summernote(o)}}},function(e,t,n){"use strict";e.exports=e=>{window.location.hash=e||"",window.location.reload()}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,a,o){var l=t.split("\n"),i=Math.max(a-3,0),r=Math.min(l.length,a+3),s=o(n),d=l.slice(i,r).map(function(e,t){var n=t+i+1;return(n==a?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=s,e.message=(s||"ejs")+":"+a+"\n"+d+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<%\n  const fromLang = (locals.fromLang || \'\').toUpperCase();\n  const toLang = (locals.toLang || \'\').toUpperCase();\n%>\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title">Confirm Google Translate</h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false">\n        Really replace the <strong><%= toLang %></strong> content with a Google translation of the <strong><%= fromLang %></strong> version?\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Translate</button>\n      </div>\n    </div>\n  </div>\n</div>',__filename=void 0;try{var __output=[],__append=__output.push.bind(__output);with(locals||{}){const fromLang=(locals.fromLang||"").toUpperCase(),toLang=(locals.toLang||"").toUpperCase();__line=4,__append('\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title">Confirm Google Translate</h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false">\n        Really replace the <strong>'),__line=16,__append(escapeFn(toLang)),__append("</strong> content with a Google translation of the <strong>"),__append(escapeFn(fromLang)),__append('</strong> version?\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Translate</button>\n      </div>\n    </div>\n  </div>\n</div>'),__line=25}return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t,n){n(7),n(10),n(12),n(14),n(16),n(18),n(20)},function(e,t,n){const a=n(0),o=n(1),l=n(2),i=n(3),r=n(4),s=n(9),d=()=>{const{data:e,submission:t}=l();o("updateCitation",{id:e.id},t).then(e=>{r()})},c=e=>{const t=e.currentTarget.getAttribute("data-id")||"";o("get",{id:t}).then(e=>{i(s,{rec:e},d)})};Array.prototype.slice.call(document.querySelectorAll(".cms-enabled .datum-editable.datum-cited")||[]).forEach(e=>{const t=e.getAttribute("data-id");a(e,{className:"fas fa-sm fa-asterisk",onClick:c,data:{id:t}})})},function(e,t,n){"use strict";e.exports=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,a,o){var l=t.split("\n"),i=Math.max(a-3,0),r=Math.min(l.length,a+3),s=o(n),d=l.slice(i,r).map(function(e,t){var n=t+i+1;return(n==a?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=s,e.message=(s||"ejs")+":"+a+"\n"+d+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<%\n  const rec = locals.rec || {};\n  const id = rec.id || \'\';\n  const label = rec.label || \'\';\n  const fieldName = id.split(\'-\')[1] || \'\';\n  const citation = rec.citation || \'\';\n%>\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title"><%= label %></h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false" class="submission" data-id="<%= id %>">\n          <div class="form-group">\n            <label for="summernote-citation">Citation</label>\n            <div class="summernote summernote-citation"\n              id="summernote.citation"\n              data-property="citation"><%- citation %></div>\n          </div>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>',__filename=void 0;try{var __output=[],__append=__output.push.bind(__output);with(locals||{}){const rec=locals.rec||{},id=rec.id||"",label=rec.label||"",fieldName=id.split("-")[1]||"",citation=rec.citation||"";__line=7,__append('\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title">'),__line=12,__append(escapeFn(label)),__append('</h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false" class="submission" data-id="'),__line=18,__append(escapeFn(id)),__append('">\n          <div class="form-group">\n            <label for="summernote-citation">Citation</label>\n            <div class="summernote summernote-citation"\n              id="summernote.citation"\n              data-property="citation">'),__line=23,__append(citation),__append('</div>\n          </div>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>'),__line=33}return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t,n){const a=n(0),o=n(1),l=n(2),i=n(3),r=n(4),s=n(11),d=()=>{const{data:e,submission:t}=l();o("updateEntity",{id:e.id},t).then(e=>{r()})},c=e=>{const t=e.currentTarget.getAttribute("data-id")||"";o("get",{id:t}).then(e=>{i(s,{rec:e},d)})};Array.prototype.slice.call(document.querySelectorAll(".cms-enabled .datum-editable.datum-contact")||[]).forEach(e=>{const t=e.getAttribute("data-id");a(e,{className:"fas fa-sm fa-edit",onClick:c,data:{id:t}})})},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,a,o){var l=t.split("\n"),i=Math.max(a-3,0),r=Math.min(l.length,a+3),s=o(n),d=l.slice(i,r).map(function(e,t){var n=t+i+1;return(n==a?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=s,e.message=(s||"ejs")+":"+a+"\n"+d+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<%\n  const rec = locals.rec || {};\n  const id = rec.id || \'\';\n  const label = rec.label || \'\';\n  const fieldName = id.split(\'-\')[1] || \'\';\n  const disabled = (fieldName.startsWith(\'governor\')) ? \'disabled = \\\'disabled\\\'\' : \'\';\n  const firstName = rec.firstName || \'\';\n  const lastName = rec.lastName || \'\';\n  const email = rec.email || \'\';\n  const companyTitle = rec.companyTitle || \'\';\n%>\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title"><%= label %></h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false" class="submission" data-id="<%= id %>">\n          <div class="form-group">\n            <label for="property-firstName">First Name</label>\n            <input\n              type="text"\n              spellcheck="false"\n              autocomplete="off"\n              class="form-control entity-property"\n              placeholder="Enter first name"\n              id="property.firstName"\n              data-property="firstName"\n              value="<%= firstName %>">\n          </div>\n          <div class="form-group">\n            <label for="property-lastName">Last Name</label>\n            <input\n              type="text"\n              spellcheck="false"\n              autocomplete="off"\n              class="form-control entity-property"\n              placeholder="Enter last name"\n              id="property.lastName"\n              data-property="lastName"\n              value="<%= lastName %>">\n          </div>\n          <div class="form-group">\n            <label for="property-email">Email</label>\n            <input\n              type="email"\n              spellcheck="false"\n              autocomplete="off"\n              class="form-control entity-property"\n              placeholder="Enter email (representatives only)"\n              <%= disabled %>\n              id="property.email"\n              data-property="email"\n              value="<%= email %>">\n          </div>\n          <div class="form-group">\n            <label for="property-companyTitle">Title</label>\n            <input\n              type="text"\n              spellcheck="false"\n              autocomplete="off"\n              class="form-control entity-property"\n              placeholder="Enter title (representatives only)"\n              <%= disabled %>\n              id="property.companyTitle"\n              data-property="companyTitle"\n              value="<%= companyTitle %>">\n          </div>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>',__filename=void 0;try{var __output=[],__append=__output.push.bind(__output);with(locals||{}){const rec=locals.rec||{},id=rec.id||"",label=rec.label||"",fieldName=id.split("-")[1]||"",disabled=fieldName.startsWith("governor")?"disabled = 'disabled'":"",firstName=rec.firstName||"",lastName=rec.lastName||"",email=rec.email||"",companyTitle=rec.companyTitle||"";__line=11,__append('\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title">'),__line=16,__append(escapeFn(label)),__append('</h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false" class="submission" data-id="'),__line=22,__append(escapeFn(id)),__append('">\n          <div class="form-group">\n            <label for="property-firstName">First Name</label>\n            <input\n              type="text"\n              spellcheck="false"\n              autocomplete="off"\n              class="form-control entity-property"\n              placeholder="Enter first name"\n              id="property.firstName"\n              data-property="firstName"\n              value="'),__line=33,__append(escapeFn(firstName)),__append('">\n          </div>\n          <div class="form-group">\n            <label for="property-lastName">Last Name</label>\n            <input\n              type="text"\n              spellcheck="false"\n              autocomplete="off"\n              class="form-control entity-property"\n              placeholder="Enter last name"\n              id="property.lastName"\n              data-property="lastName"\n              value="'),__line=45,__append(escapeFn(lastName)),__append('">\n          </div>\n          <div class="form-group">\n            <label for="property-email">Email</label>\n            <input\n              type="email"\n              spellcheck="false"\n              autocomplete="off"\n              class="form-control entity-property"\n              placeholder="Enter email (representatives only)"\n              '),__line=55,__append(escapeFn(disabled)),__append('\n              id="property.email"\n              data-property="email"\n              value="'),__line=58,__append(escapeFn(email)),__append('">\n          </div>\n          <div class="form-group">\n            <label for="property-companyTitle">Title</label>\n            <input\n              type="text"\n              spellcheck="false"\n              autocomplete="off"\n              class="form-control entity-property"\n              placeholder="Enter title (representatives only)"\n              '),__line=68,__append(escapeFn(disabled)),__append('\n              id="property.companyTitle"\n              data-property="companyTitle"\n              value="'),__line=71,__append(escapeFn(companyTitle)),__append('">\n          </div>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>'),__line=81}return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t,n){const a=n(0),o=n(1),l=n(2),i=n(3),r=n(4),s=n(13),d=()=>{const{data:e,submission:t}=l();o("updateEntity",{id:e.id},t).then(e=>{r()})},c=e=>{const t=e.currentTarget.getAttribute("data-id")||"";o("get",{id:t}).then(e=>{i(s,{rec:e},d)})};Array.prototype.slice.call(document.querySelectorAll(".cms-enabled .datum-editable.datum-value")||[]).forEach(e=>{const t=e.getAttribute("data-id");a(e,{className:"fas fa-sm fa-edit",onClick:c,data:{id:t}})})},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,a,o){var l=t.split("\n"),i=Math.max(a-3,0),r=Math.min(l.length,a+3),s=o(n),d=l.slice(i,r).map(function(e,t){var n=t+i+1;return(n==a?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=s,e.message=(s||"ejs")+":"+a+"\n"+d+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<%\n  const rec = locals.rec || {};\n  const id = rec.id || \'\';\n  const label = rec.label || \'\';\n  const subType = rec.subType || \'\';\n  const units = rec.units || \'\';\n  const string = rec.string || \'\';\n  const currency = rec.currency || \'\';\n  const year = rec.year || \'\';\n  let currencyDisabled = (subType !== \'currency\') ? \'disabled\' : \'\';\n  let yearDisabled = (subType !== \'annual\') ? \'disabled\' : \'\';\n%>\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title"><%= label %></h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false" class="submission" data-id="<%= id %>">\n          <div class="form-group">\n            <label for="property-string">Amount<% if(units) { %> (<%= units %>)<% } %></label>\n            <input\n              type="text"\n              spellcheck="false"\n              autocomplete="off"\n              class="form-control entity-property"\n              placeholder="Enter amount (number only)"\n              id="property.string"\n              data-property="string"\n              value="<%= string %>">\n          </div>\n          <div class="form-group">\n            <label for="property-currency">Currency</label>\n            <input\n              type="text"\n              spellcheck="false"\n              autocomplete="off"\n              class="form-control entity-property"\n              placeholder="Enter currency (if applicable)"\n              <%= currencyDisabled %>\n              id="property.currency"\n              data-property="currency"\n              value="<%= currency %>">\n          </div>\n          <div class="form-group">\n            <label for="property-year">Year</label>\n            <input\n              type="text"\n              spellcheck="false"\n              autocomplete="off"\n              class="form-control entity-property"\n              placeholder="Enter year or year range (if applicable)"\n              <%= yearDisabled %>\n              id="property.year"\n              data-property="year"\n              value="<%= year %>">\n          </div>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>',__filename=void 0;try{var __output=[],__append=__output.push.bind(__output);with(locals||{}){const rec=locals.rec||{},id=rec.id||"",label=rec.label||"",subType=rec.subType||"",units=rec.units||"",string=rec.string||"",currency=rec.currency||"",year=rec.year||"";let currencyDisabled="currency"!==subType?"disabled":"",yearDisabled="annual"!==subType?"disabled":"";__line=12,__append('\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title">'),__line=17,__append(escapeFn(label)),__append('</h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false" class="submission" data-id="'),__line=23,__append(escapeFn(id)),__append('">\n          <div class="form-group">\n            <label for="property-string">Amount'),__line=25,units&&(__append(" ("),__append(escapeFn(units)),__append(")")),__append('</label>\n            <input\n              type="text"\n              spellcheck="false"\n              autocomplete="off"\n              class="form-control entity-property"\n              placeholder="Enter amount (number only)"\n              id="property.string"\n              data-property="string"\n              value="'),__line=34,__append(escapeFn(string)),__append('">\n          </div>\n          <div class="form-group">\n            <label for="property-currency">Currency</label>\n            <input\n              type="text"\n              spellcheck="false"\n              autocomplete="off"\n              class="form-control entity-property"\n              placeholder="Enter currency (if applicable)"\n              '),__line=44,__append(escapeFn(currencyDisabled)),__append('\n              id="property.currency"\n              data-property="currency"\n              value="'),__line=47,__append(escapeFn(currency)),__append('">\n          </div>\n          <div class="form-group">\n            <label for="property-year">Year</label>\n            <input\n              type="text"\n              spellcheck="false"\n              autocomplete="off"\n              class="form-control entity-property"\n              placeholder="Enter year or year range (if applicable)"\n              '),__line=57,__append(escapeFn(yearDisabled)),__append('\n              id="property.year"\n              data-property="year"\n              value="'),__line=60,__append(escapeFn(year)),__append('">\n          </div>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>'),__line=70}return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t,n){const a=n(0),o=n(1),l=n(2),i=n(3),r=n(4),s=n(15),d=()=>{const{data:e,submission:t}=l();o("updateEntity",{id:e.id},t).then(e=>{r()})},c=e=>{const t=e.currentTarget.getAttribute("data-id")||"";o("get",{id:t}).then(e=>{i(s,{rec:e},d)})};Array.prototype.slice.call(document.querySelectorAll(".cms-enabled .datum-editable.datum-array")||[]).forEach(e=>{const t=e.getAttribute("data-id");a(e,{className:"fas fa-sm fa-edit",onClick:c,data:{id:t}})})},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,a,o){var l=t.split("\n"),i=Math.max(a-3,0),r=Math.min(l.length,a+3),s=o(n),d=l.slice(i,r).map(function(e,t){var n=t+i+1;return(n==a?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=s,e.message=(s||"ejs")+":"+a+"\n"+d+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<%\n  const rec = locals.rec || {};\n  const id = rec.id || \'\';\n  const label = rec.label || \'\';\n  const units = rec.units || \'\';\n  const rows = rec.rows || [];\n%>\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title"><%= label %><% if(units) { %> (<%= units %>)<% } %></h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false" class="submission" data-id="<%= id %>">\n          <div style="max-height: 300px; overflow-y: scroll; overflow-x: hidden; padding-right: 15px;">\n            <% rows.forEach((row) => { %>\n              <div class="form-group row">\n                <label class="col-6 col-form-label col-form-label-sm" for="property-row-<%= row.id %>"><%= row.label %></label>\n                <div class="col-6">\n                  <input\n                    type="text"\n                    spellcheck="false"\n                    autocomplete="off"\n                    class="form-control form-control-sm entity-property"\n                    id="property.rows.<%= row.id %>"\n                    data-property="rows"\n                    data-row-id="<%= row.id %>"\n                    value="<%= row.string %>">\n                </div>\n              </div>\n            <% }) %>\n          </div>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>',__filename=void 0;try{var __output=[],__append=__output.push.bind(__output);with(locals||{}){const rec=locals.rec||{},id=rec.id||"",label=rec.label||"",units=rec.units||"",rows=rec.rows||[];__line=7,__append('\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title">'),__line=12,__append(escapeFn(label)),units&&(__append(" ("),__append(escapeFn(units)),__append(")")),__append('</h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false" class="submission" data-id="'),__line=18,__append(escapeFn(id)),__append('">\n          <div style="max-height: 300px; overflow-y: scroll; overflow-x: hidden; padding-right: 15px;">\n            '),__line=20,rows.forEach(e=>{__append('\n              <div class="form-group row">\n                <label class="col-6 col-form-label col-form-label-sm" for="property-row-'),__line=22,__append(escapeFn(e.id)),__append('">'),__append(escapeFn(e.label)),__append('</label>\n                <div class="col-6">\n                  <input\n                    type="text"\n                    spellcheck="false"\n                    autocomplete="off"\n                    class="form-control form-control-sm entity-property"\n                    id="property.rows.'),__line=29,__append(escapeFn(e.id)),__append('"\n                    data-property="rows"\n                    data-row-id="'),__line=31,__append(escapeFn(e.id)),__append('"\n                    value="'),__line=32,__append(escapeFn(e.string)),__append('">\n                </div>\n              </div>\n            '),__line=35}),__append('\n          </div>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>'),__line=45}return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t,n){const a=n(0),o=n(1),l=n(2),i=n(3),r=n(17),s=n(5),d=n(4),c=document.querySelector("html").getAttribute("lang")||"en",p=()=>{const{data:e,submission:t}=l(),n={id:e.id,lang:c};o("updateTranslation",n,t).then(e=>{d()})},m=e=>{const t=e.currentTarget,n=t.getAttribute("data-id")||"",a=t.getAttribute("data-propertyname")||"";o("get",{id:n,lang:c}).then(e=>{i(r,{rec:e,propertyName:a},p)})},u=e=>{const t=e.currentTarget,n=t.getAttribute("data-id")||"",a=t.getAttribute("data-fromlang")||"",l=t.getAttribute("data-tolang")||"",r=t.getAttribute("data-propertyname")||"";i(s,{fromLang:a,toLang:l},()=>{o({propertyName:r,id:n,fromLang:a,toLang:l}).then(()=>{})})};Array.prototype.slice.call(document.querySelectorAll(".cms-enabled .datum-editable.datum-text")||[]).forEach(e=>{const t=e.getAttribute("data-id"),n=(e.getAttribute("data-langs")||"").split(","),o=e.getAttribute("data-propertyname")||"";n.forEach(n=>{a(e,{text:n.toUpperCase(),onClick:u,data:{id:t,fromlang:n,tolang:c,propertyName:o}})}),a(e,{className:"fas fa-sm fa-edit",onClick:m,data:{id:t,propertyName:o,lang:c}})})},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,a,o){var l=t.split("\n"),i=Math.max(a-3,0),r=Math.min(l.length,a+3),s=o(n),d=l.slice(i,r).map(function(e,t){var n=t+i+1;return(n==a?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=s,e.message=(s||"ejs")+":"+a+"\n"+d+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<%\n  const rec = locals.rec || {};\n  const propertyName = locals.propertyName || \'\';\n  const submissionPropertyName = propertyName || \'text\';\n  const id = rec.id || \'\';\n  const label = rec.label || \'\';\n  let text = \'\';\n  if (propertyName && rec[propertyName]) {\n    text = rec[propertyName].text || \'\';\n  } else {\n    text = rec.text || \'\';\n  }\n%>\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title"><%= label %></h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false" class="submission" data-id="<%= id %>" data-property="<%= propertyName %>">\n          <div class="summernote summernote-text"  id="summernote.<%= submissionPropertyName %>" data-property="text"><%- text %></div>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>',__filename=void 0;try{var __output=[],__append=__output.push.bind(__output);with(locals||{}){const rec=locals.rec||{},propertyName=locals.propertyName||"",submissionPropertyName=propertyName||"text",id=rec.id||"",label=rec.label||"";let text="";text=propertyName&&rec[propertyName]?rec[propertyName].text||"":rec.text||"",__line=13,__append('\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title">'),__line=18,__append(escapeFn(label)),__append('</h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false" class="submission" data-id="'),__line=24,__append(escapeFn(id)),__append('" data-property="'),__append(escapeFn(propertyName)),__append('">\n          <div class="summernote summernote-text"  id="summernote.'),__line=25,__append(escapeFn(submissionPropertyName)),__append('" data-property="text">'),__append(text),__append('</div>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>'),__line=34}return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t,n){const a=n(0),o=n(1),l=n(2),i=n(3),r=n(19),s=n(5),d=n(4),c=document.querySelector("html").getAttribute("lang")||"en",p=()=>{const{data:e,submission:t}=l(),n={id:e.id,lang:c};o("updateTranslation",n,t).then(e=>{d()})},m=e=>{const t=e.currentTarget.getAttribute("data-id")||"";o("get",{id:t,lang:c}).then(e=>{i(r,{rec:e},p)})},u=e=>{const t=e.currentTarget,n=t.getAttribute("data-id")||"",a=t.getAttribute("data-fromlang")||"",l=t.getAttribute("data-tolang")||"";i(s,{fromLang:a,toLang:l},()=>{o({propertyName:"text",id:n,fromLang:a,toLang:l}).then(()=>{})})};Array.prototype.slice.call(document.querySelectorAll(".cms-enabled .datum-editable.datum-framework")||[]).forEach(e=>{const t=e.getAttribute("data-id");(e.getAttribute("data-langs")||"").split(",").forEach(n=>{a(e,{text:n.toUpperCase(),onClick:u,data:{id:t,fromlang:n,tolang:c,property:e.getAttribute("data-property")||""}})}),a(e,{className:"fas fa-sm fa-edit",onClick:m,data:{id:t,property:e.getAttribute("data-property")||""}})})},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,a,o){var l=t.split("\n"),i=Math.max(a-3,0),r=Math.min(l.length,a+3),s=o(n),d=l.slice(i,r).map(function(e,t){var n=t+i+1;return(n==a?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=s,e.message=(s||"ejs")+":"+a+"\n"+d+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<%\n  const rec = locals.rec || {};\n  const id = rec.id || \'\';\n  const label = rec.label || \'\';\n  const text = rec.text || \'\';\n%>\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title"><%= label %></h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false" class="submission" data-id="<%= id %>">\n          <div\n            class="summernote summernote-text"\n            id="summernote.text"\n            data-property="text"><%- text %></div>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>',__filename=void 0;try{var __output=[],__append=__output.push.bind(__output);with(locals||{}){const rec=locals.rec||{},id=rec.id||"",label=rec.label||"",text=rec.text||"";__line=6,__append('\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title">'),__line=11,__append(escapeFn(label)),__append('</h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false" class="submission" data-id="'),__line=17,__append(escapeFn(id)),__append('">\n          <div\n            class="summernote summernote-text"\n            id="summernote.text"\n            data-property="text">'),__line=21,__append(text),__append('</div>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>'),__line=30}return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t,n){const a=n(0),o=n(1),l=n(2),i=n(3),r=n(21),s=n(22),d=n(23),c=n(4),p=document.querySelector("html").getAttribute("lang")||"en",m=document.getElementById("subheader-regional")&&document.getElementById("subheader-regional").getAttribute("data-regionid")||"",u=()=>{const{data:e,submission:t}=l();o("updateEntityProperty",{id:e.id},t).then(e=>{c()})},b=e=>{const t=e.currentTarget.getAttribute("data-id")||"";o("get",{id:t,lang:p}).then(e=>{i(s,{rec:e},()=>{})})},_=e=>{const t=e.currentTarget.getAttribute("data-id")||"";o("get",{id:t,lang:p}).then(e=>{i(r,{rec:e},u)})};Array.prototype.slice.call(document.querySelectorAll(".cms-enabled .partnership-container")||[]).forEach(e=>{const t=e.getAttribute("id");a(e,{className:"fas fa-sm fa-times-circle",selector:".box-heading",onClick:b,data:{id:t}});const n=e.querySelector(".datum-partnership-jurisdictions");n&&a(n,{className:"fas fa-sm fa-edit",onClick:_,data:{id:t}})});const f=document.querySelector(".cms-enabled .partnerships");if(f){f.insertAdjacentHTML("afterbegin",d({regionId:m}));const e=()=>{let e="";const t=document.getElementById("property-partnership-name");if(t&&(e=t.value||""),!e)return;const n={modelName:"partnership",methodName:"insert",regionId:m,lang:p},a={name:e};console.log(n,a)};document.getElementById("partnership-add").addEventListener("click",e)}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,a,o){var l=t.split("\n"),i=Math.max(a-3,0),r=Math.min(l.length,a+3),s=o(n),d=l.slice(i,r).map(function(e,t){var n=t+i+1;return(n==a?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=s,e.message=(s||"ejs")+":"+a+"\n"+d+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<%\n  const rec = locals.rec || {};\n  const id = rec.id || \'\';\n  const propertyName = \'jurisdictionalMembership\';\n  let array = [];\n  if (rec[propertyName] && Array.isArray(rec[propertyName].array)) {\n    array = rec[propertyName].array;\n  }\n%>\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered modal" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title">Jurisdictions</h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false" class="submission" data-id="<%= id %>">\n          <div class="btn-group-toggle" data-toggle="buttons">\n          <% array.forEach((jurisdiction) => { %>\n            <label class="btn btn-outline-secondary btn-sm btn-block<% if(jurisdiction.isMember) { %> active<% } %>">\n              <input\n                class="form-check-input entity-property"\n                type="checkbox"\n                <% if(jurisdiction.isMember) { %>checked=""<% } %>\n                value="<%= jurisdiction.slug %>"\n                id="property.jurisdictions.items.<%= jurisdiction.slug %>"\n                data-property="jurisdictions"\n                data-item="<%= jurisdiction.slug %>"\n              </input>\n              <%= jurisdiction.name %>\n            </label>\n          <% }); %>\n          </div>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>',__filename=void 0;try{var __output=[],__append=__output.push.bind(__output);with(locals||{}){const rec=locals.rec||{},id=rec.id||"",propertyName="jurisdictionalMembership";let array=[];rec[propertyName]&&Array.isArray(rec[propertyName].array)&&(array=rec[propertyName].array),__line=9,__append('\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered modal" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title">Jurisdictions</h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false" class="submission" data-id="'),__line=20,__append(escapeFn(id)),__append('">\n          <div class="btn-group-toggle" data-toggle="buttons">\n          '),__line=22,array.forEach(e=>{__append('\n            <label class="btn btn-outline-secondary btn-sm btn-block'),__line=23,e.isMember&&__append(" active"),__append('">\n              <input\n                class="form-check-input entity-property"\n                type="checkbox"\n                '),__line=27,e.isMember&&__append('checked=""'),__append('\n                value="'),__line=28,__append(escapeFn(e.slug)),__append('"\n                id="property.jurisdictions.items.'),__line=29,__append(escapeFn(e.slug)),__append('"\n                data-property="jurisdictions"\n                data-item="'),__line=31,__append(escapeFn(e.slug)),__append('"\n              </input>\n              '),__line=33,__append(escapeFn(e.name)),__append("\n            </label>\n          "),__line=35}),__append('\n          </div>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>'),__line=45}return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,a,o){var l=t.split("\n"),i=Math.max(a-3,0),r=Math.min(l.length,a+3),s=o(n),d=l.slice(i,r).map(function(e,t){var n=t+i+1;return(n==a?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=s,e.message=(s||"ejs")+":"+a+"\n"+d+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<%\n  const rec = locals.rec || {};\n  const id = rec.id || \'\';\n  const name = rec.name.string || \'\';\n%>\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title">Confirm Delete</h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false">\n        Really delete <strong><%= name %></strong>? <span class="text-danger">It will be deleted from the member nation and all jurisdictions!</span>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>\n        <button type="button" class="btn btn-danger" id="modal-submit">Delete</button>\n      </div>\n    </div>\n  </div>\n</div>',__filename=void 0;try{var __output=[],__append=__output.push.bind(__output);with(locals||{}){const rec=locals.rec||{},id=rec.id||"",name=rec.name.string||"";__line=5,__append('\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title">Confirm Delete</h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false">\n        Really delete <strong>'),__line=17,__append(escapeFn(name)),__append('</strong>? <span class="text-danger">It will be deleted from the member nation and all jurisdictions!</span>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>\n        <button type="button" class="btn btn-danger" id="modal-submit">Delete</button>\n      </div>\n    </div>\n  </div>\n</div>'),__line=26}return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,a,o){var l=t.split("\n"),i=Math.max(a-3,0),r=Math.min(l.length,a+3),s=o(n),d=l.slice(i,r).map(function(e,t){var n=t+i+1;return(n==a?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=s,e.message=(s||"ejs")+":"+a+"\n"+d+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<form>\n  <div class="input-group mb-3">\n    <div class="input-group-prepend">\n      <button\n        id="partnership-add"\n        class="btn btn-outline-secondary"\n        type="button"\n        data-id="partnership-batch.jsnc3bxd-brazil-jsnc3bxd"\n        data-method="insert">\n        <i class="fas fa-sm fa-plus"></i></button>\n      </button>\n    </div>\n    <input\n      type="text"\n      id="property-partnership-name"\n      class="form-control"\n      placeholder="Enter name of partnership to add"\n      spellcheck="false"\n      autocomplete="off">\n  </div>\n</form>',__filename=void 0;try{var __output=[],__append=__output.push.bind(__output);with(locals||{})__append('<form>\n  <div class="input-group mb-3">\n    <div class="input-group-prepend">\n      <button\n        id="partnership-add"\n        class="btn btn-outline-secondary"\n        type="button"\n        data-id="partnership-batch.jsnc3bxd-brazil-jsnc3bxd"\n        data-method="insert">\n        <i class="fas fa-sm fa-plus"></i></button>\n      </button>\n    </div>\n    <input\n      type="text"\n      id="property-partnership-name"\n      class="form-control"\n      placeholder="Enter name of partnership to add"\n      spellcheck="false"\n      autocomplete="off">\n  </div>\n</form>'),__line=21;return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t,n){"use strict";n.r(t);const a="rgba(60,179,113, 1)",o="rgba(105, 105, 105, 1)",l=e=>{const t=e.replace(/&quot;/g,'"');return JSON.parse(t)};var i={deforestationRates(e){const t=$(e),n=e.getContext("2d"),i=t.attr("data-referencelabel"),r=t.attr("data-ratescategorylabel");let s=Number.parseFloat(t.attr("data-goalvalue"));const d=t.attr("data-goalyear");let c=t.attr("data-goallabel");s=s<1?s.toFixed(1):s.toFixed(0);let p,m=t.attr("data-referenceyear")||"";const u=l(t.attr("data-referencerates")),b=l(t.attr("data-rates")),_=[];u.forEach(e=>{const[t,n]=String(e.year).split("-").map(e=>Number.parseInt(e.trim(),10)),{amount:a}=e;if(n)for(let e=t;e<=n;e+=1){const t=String(e),n=_.find(e=>e.year===t);n?n.y=a:_.push({x:t,y:a})}else{const e=String(t),n=_.find(t=>t.year===e);n?n.y=a:_.push({x:e,y:a})}}),!m&&_.length>1&&(m=_[0].x),m&&_.forEach(e=>{e.x<=m&&(p=e.y)});let f={},y={},h={},v={};if(_.length&&(f={type:"line",data:_,pointStyle:"line",steppedLine:"before",borderWidth:1.8,pointRadius:0,fill:!1,borderColor:"rgba(235, 162, 54, 1)",label:i}),m&&d&&m!==d&&!Number.isNaN(p)&&!Number.isNaN(s)&&(y={type:"line",pointStyle:"line",borderWidth:1.5,borderDash:[5,5],borderColor:a,backgroundColor:"rgba(230,250,230, 1)",pointHitRadius:0,data:[{x:m,y:p},{x:d,y:s}]},b.forEach(e=>{e.achievesGoal=!1,e.year<m||((e,t,n)=>{if(!Array.isArray(e))return!1;const a=e.find(e=>e.x===t);if(a)return n<=a.y;const o=e[0],l=e[e.length-1];if(l.x===o.x)return!1;const i=(l.y-o.y)/(l.x-o.x);return!Number.isNaN(i)&&n<=o.y+i*(t-o.x)})([{x:m,y:p},{x:d,y:s}],e.year,e.amount)&&(e.achievesGoal=!0)})),s&&d){const e=b[b.length-1].year;if(d>e){const t=d-e;for(let n=1;n<=t;n+=1)b.push({year:String(1*e+n),amount:null})}v={type:"scatter",pointStyle:"star",radius:9,hoverRadius:9,pointHoverRadius:9,borderWidth:2,pointHoverBorderWidth:2,borderColor:a,pointHitRadius:0,data:[{x:d,y:s}],label:c}}const g=b.map(e=>{return e.achievesGoal?{pointBackgroundColor:a,pointBorderColor:a}:{pointBackgroundColor:"rgba(256, 256, 256, 1)",pointBorderColor:"#5d83b4"}});h={fill:!1,spanGaps:!1,data:b.map(e=>e.amount),borderWidth:1.5,pointRadius:5,pointHoverRadius:5,pointBackgroundColor:g.map(e=>e.pointBackgroundColor),pointHoverBackgroundColor:g.map(e=>e.pointBackgroundColor),pointBorderColor:g.map(e=>e.pointBorderColor),pointBorderWidth:2,pointHoverBorderWidth:2,borderColor:"#5d83b4"};const x={type:"line",data:{labels:b.map(e=>e.year),datasets:[f,v,h,y]},options:{tooltips:{displayColors:!1,intersect:!1,mode:"nearest",backgroundColor:"rgba(256, 256, 256, .8)",titleFontColor:o,bodyFontColor:o,borderColor:o,borderWidth:1.3,callbacks:{title:(e,t)=>{if(!Array.isArray(e)||!e.length)return null;const{index:n,datasetIndex:a}=e[0];if([1].includes(a))return!1;let o="";return o=0===a?i:3===a?c:t.labels[n]},label:(e,t)=>{const{index:n,datasetIndex:a}=e;if([1].includes(a))return!1;const o=t.datasets[a].data[n];let l="";return l=0===a?`${e.yLabel} km²`:3===a?`${o.y} km² (${o.x})`:`${e.yLabel} km²`}}},legend:{display:!0,labels:{usePointStyle:!0,filter:e=>Boolean(e.text)}},title:{display:!1},scales:{xAxes:[{scaleLabel:{display:!0,labelString:r},ticks:{callback:e=>`'${String(e).substr(2)}`}}],yAxes:[{scaleLabel:{display:!0,labelString:"km²"},ticks:{beginAtZero:!0}}]},layout:{padding:{left:20,right:20,top:20,bottom:20}}}};Chart.defaults.global.defaultFontSize=14;new Chart(n,x)}};n(6);window.onload=()=>{const e=document.querySelectorAll(".deforestationRateChart");e.length&&Array.prototype.slice.call(e).forEach(e=>{i.deforestationRates(e)})}}]);