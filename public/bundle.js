!function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=31)}([function(e,t,n){"use strict";e.exports=(e,t={})=>{const n=t.selector||".heading-datum",a=document.createElement("span");if(a.className="button",t.text){const e=document.createElement("span");e.innerText=t.text,a.appendChild(e)}else{const e=document.createElement("i");e.className=t.className||"",a.appendChild(e)}t.title&&(a.setAttribute("title",t.title),a.setAttribute("data-toggle","tooltip"),$(a).tooltip()),t.data&&Object.entries(t.data).forEach(([e,t])=>{a.setAttribute(`data-${e}`,t)}),t.onClick&&a.addEventListener("click",t.onClick);const o=e.querySelector(n);o&&o.firstChild?o.insertBefore(a,o.firstChild):e.appendChild(a)}},function(e,t,n){"use strict";const a={method:"POST",mode:"cors",credentials:"include"};e.exports=class{constructor(e){this.API_ENDPOINT=e}post(e,t,n){let o="";if(t){const e=[];Object.entries(t).forEach(([t,n])=>{n&&e.push(`${encodeURIComponent(t)}=${encodeURIComponent(n)}`)}),e.length&&(o=`?${e.join("&")}`)}const l=Object.assign({headers:{"Content-Type":"application/json"}},a);n&&(l.body=JSON.stringify(n));const r=`${this.API_ENDPOINT}/${e}${o}`;return fetch(r,l).then(e=>e.ok?e.json():{})}}},function(e,t,n){const a=n(13);e.exports=()=>{const e={data:{},submission:{}},t=document.querySelector("form.submission");if(!t)return e;if(t.hasAttributes()){const n=t.attributes;for(let t=n.length-1;t>=0;t-=1)n[t].name.startsWith("data-")&&(e.data[n[t].name.substring(5)]=n[t].value)}return Array.prototype.slice.call(document.getElementsByClassName("entity-property")).forEach(t=>{const n=t.getAttribute("data-propertyname");if(!n)return;a(e.submission,n)||(e.submission[n]={});const o=t.getAttribute("data-row-id"),l=t.getAttribute("data-item");return o?(Array.isArray(e.submission[n])||(e.submission[n]=[]),void e.submission[n].push({id:o,string:t.value})):l?(Array.isArray(e.submission[n])||(e.submission[n]=[]),void(t.checked&&e.submission[n].push(t.value))):void(e.submission[n]=t.value)}),Array.prototype.slice.call(document.getElementsByClassName("summernote")).forEach(t=>{const n=t.getAttribute("data-propertyname");n&&(e.submission[n]=$(t).summernote("code"))}),e}},function(e,t,n){"use strict";const a={height:250,minHeight:null,maxHeight:null,toolbar:[["style",["bold","italic","underline","clear"]],["font",["strikethrough","superscript","subscript"]],["para",["ul","ol","paragraph"]],["insert",["link"]]]},o={minHeight:null,maxHeight:null,toolbar:[["style",["bold","italic","underline","clear"]],["font",["superscript","subscript"]],["insert",["link"]]]};e.exports=(e,t={},n)=>{document.getElementById("modal")&&document.getElementById("modal").remove();const l=document.querySelector("body");if(void 0!==e){if(l.insertAdjacentHTML("beforeend",e(t).trim()),"function"==typeof n){const e=document.getElementById("modal-submit");e&&e.addEventListener("click",n)}$("#modal").modal(),$(".summernote-text").summernote(a),$(".summernote-citation").summernote(o)}}},function(e,t,n){"use strict";e.exports=e=>{if(!e)return void window.location.reload();let t=window.location.origin;window.location.pathname&&(t+=window.location.pathname),t+=`?scrollTo=${e}`,window.location.replace(t)}},function(e,t,n){"use strict";e.exports=e=>"string"!=typeof e?"":0===e.length?"":`${e.substring(0,10)}  ${e.substring(11,16)}`},function(e,t,n){"use strict";e.exports=(e,t={})=>{const n=Boolean(t.isGoogleTranslation),a=t.selector||".heading-datum",o=document.createElement("span");o.className="translation-badge";const l=document.createElement("span");l.innerText=n?"G":"T",o.appendChild(l);const r=e.querySelector(a);r&&r.firstChild?r.insertBefore(o,r.firstChild):e.appendChild(o)}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,a,o){var l=t.split("\n"),r=Math.max(a-3,0),s=Math.min(l.length,a+3),i=o(n),d=l.slice(r,s).map(function(e,t){var n=t+r+1;return(n==a?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=i,e.message=(i||"ejs")+":"+a+"\n"+d+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<%\n  const fromLang = (locals.fromLang || \'\').toUpperCase();\n  const toLang = (locals.toLang || \'\').toUpperCase();\n%>\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title">Confirm Google Translate</h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false">\n        Really replace the <strong><%= toLang %></strong> content with a Google translation of the <strong><%= fromLang %></strong> version?\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Translate</button>\n      </div>\n    </div>\n  </div>\n</div>',__filename=void 0;try{var __output=[],__append=__output.push.bind(__output);with(locals||{}){const fromLang=(locals.fromLang||"").toUpperCase(),toLang=(locals.toLang||"").toUpperCase();__line=4,__append('\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title">Confirm Google Translate</h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false">\n        Really replace the <strong>'),__line=16,__append(escapeFn(toLang)),__append("</strong> content with a Google translation of the <strong>"),__append(escapeFn(fromLang)),__append('</strong> version?\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Translate</button>\n      </div>\n    </div>\n  </div>\n</div>'),__line=25}return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t,n){"use strict";e.exports=(e,t,n)=>{if(!Array.isArray(e))return"";if(!t)return"";const[a]=t.split(".");return e.find(e=>{const[,t,o]=e.split("~");return t===a&&(!n||o===n)})||""}},function(e,t,n){"use strict";e.exports=e=>"string"==typeof e&&(0!==e.length&&e.toLowerCase().includes("google"))},function(e,t,n){"use strict";const a=n(11),o=n(12),l=n(15),r=n(17),s=n(19),i=n(21),d=n(23),c=n(25),p=a(document.querySelector("body").getAttribute("data-langs")),m=a(document.querySelector("body").getAttribute("data-src-langs")),u=document.querySelector("body").getAttribute("data-regionid")||"",_=document.querySelector("html").getAttribute("lang")||"en";e.exports={render:e=>{const t={API_ENDPOINT:e,LANGS:p,SRC_LANGS:m,LANG:_,REGION_ID:u};o.render(t),l.render(t),r.render(t),s.render(t),i.render(t),d.render(t),c.render(t)}}},function(e,t,n){"use strict";e.exports=e=>{if("string"!=typeof e)return[];const t=e.trim();return t.length?t.split(","):[]}},function(e,t,n){const a=n(0),o=n(1),l=n(2),r=n(3),s=n(4),i=n(14);let d;const c=()=>{const{data:e,submission:t}=l();d.post("updateCitation",{id:e.id},t).then(e=>{s()})},p=e=>{const t=e.currentTarget.getAttribute("data-id")||"";d.post("get",{id:t}).then(e=>{r(i,{rec:e},c)})};e.exports={render:e=>{d=new o(e.API_ENDPOINT),Array.prototype.slice.call(document.querySelectorAll(".cms-enabled .datum-editable.datum-cited")||[]).forEach(e=>{const t=e.getAttribute("data-id");a(e,{className:"fas fa-sm fa-asterisk",onClick:p,data:{id:t}})})}}},function(e,t,n){"use strict";e.exports=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,a,o){var l=t.split("\n"),r=Math.max(a-3,0),s=Math.min(l.length,a+3),i=o(n),d=l.slice(r,s).map(function(e,t){var n=t+r+1;return(n==a?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=i,e.message=(i||"ejs")+":"+a+"\n"+d+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<%\n  const rec = locals.rec || {};\n  const id = rec.id || \'\';\n  const label = rec.label || \'\';\n  const fieldName = id.split(\'-\')[1] || \'\';\n  const citation = rec.citation || \'\';\n%>\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title"><%= label %></h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false" class="submission" data-id="<%= id %>">\n          <div class="form-group">\n            <label for="summernote-citation">Citation</label>\n            <div class="summernote summernote-citation"\n              id="summernote.citation"\n              data-propertyname="citation"><%- citation %></div>\n          </div>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>',__filename=void 0;try{var __output=[],__append=__output.push.bind(__output);with(locals||{}){const rec=locals.rec||{},id=rec.id||"",label=rec.label||"",fieldName=id.split("-")[1]||"",citation=rec.citation||"";__line=7,__append('\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title">'),__line=12,__append(escapeFn(label)),__append('</h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false" class="submission" data-id="'),__line=18,__append(escapeFn(id)),__append('">\n          <div class="form-group">\n            <label for="summernote-citation">Citation</label>\n            <div class="summernote summernote-citation"\n              id="summernote.citation"\n              data-propertyname="citation">'),__line=23,__append(citation),__append('</div>\n          </div>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>'),__line=33}return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t,n){const a=n(0),o=n(1),l=n(2),r=n(3),s=n(4),i=n(5),d=n(16);let c;const p=()=>{const{data:e,submission:t}=l();c.post("updateEntity",{id:e.id},t).then(e=>{s()})},m=e=>{const t=e.currentTarget.getAttribute("data-id")||"";c.post("get",{id:t}).then(e=>{r(d,{rec:e},p)})};e.exports={render:e=>{c=new o(e.API_ENDPOINT),Array.prototype.slice.call(document.querySelectorAll(".cms-enabled .datum-editable.datum-contact")||[]).forEach(e=>{const t=e.getAttribute("data-id"),n=e.getAttribute("data-timestamp")||"";a(e,{className:"fas fa-sm fa-edit",title:i(n),onClick:m,data:{id:t}})})}}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,a,o){var l=t.split("\n"),r=Math.max(a-3,0),s=Math.min(l.length,a+3),i=o(n),d=l.slice(r,s).map(function(e,t){var n=t+r+1;return(n==a?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=i,e.message=(i||"ejs")+":"+a+"\n"+d+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<%\n  const rec = locals.rec || {};\n  const id = rec.id || \'\';\n  const label = rec.label || \'\';\n  const fieldName = id.split(\'-\')[1] || \'\';\n  const disabled = (fieldName.startsWith(\'governor\')) ? \'disabled = \\\'disabled\\\'\' : \'\';\n  const firstName = rec.firstName || \'\';\n  const lastName = rec.lastName || \'\';\n  const email = rec.email || \'\';\n  const companyTitle = rec.companyTitle || \'\';\n%>\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title"><%= label %></h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false" class="submission" data-id="<%= id %>">\n          <div class="form-group">\n            <label for="property-firstName">First Name</label>\n            <input\n              type="text"\n              spellcheck="false"\n              autocomplete="off"\n              class="form-control entity-property"\n              placeholder="Enter first name"\n              id="property.firstName"\n              data-propertyname="firstName"\n              value="<%= firstName %>">\n          </div>\n          <div class="form-group">\n            <label for="property-lastName">Last Name</label>\n            <input\n              type="text"\n              spellcheck="false"\n              autocomplete="off"\n              class="form-control entity-property"\n              placeholder="Enter last name"\n              id="property.lastName"\n              data-propertyname="lastName"\n              value="<%= lastName %>">\n          </div>\n          <div class="form-group">\n            <label for="property-email">Email</label>\n            <input\n              type="email"\n              spellcheck="false"\n              autocomplete="off"\n              class="form-control entity-property"\n              placeholder="Enter email (representatives only)"\n              <%= disabled %>\n              id="property.email"\n              data-propertyname="email"\n              value="<%= email %>">\n          </div>\n          <div class="form-group">\n            <label for="property-companyTitle">Title</label>\n            <input\n              type="text"\n              spellcheck="false"\n              autocomplete="off"\n              class="form-control entity-property"\n              placeholder="Enter title (representatives only)"\n              <%= disabled %>\n              id="property.companyTitle"\n              data-propertyname="companyTitle"\n              value="<%= companyTitle %>">\n          </div>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>',__filename=void 0;try{var __output=[],__append=__output.push.bind(__output);with(locals||{}){const rec=locals.rec||{},id=rec.id||"",label=rec.label||"",fieldName=id.split("-")[1]||"",disabled=fieldName.startsWith("governor")?"disabled = 'disabled'":"",firstName=rec.firstName||"",lastName=rec.lastName||"",email=rec.email||"",companyTitle=rec.companyTitle||"";__line=11,__append('\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title">'),__line=16,__append(escapeFn(label)),__append('</h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false" class="submission" data-id="'),__line=22,__append(escapeFn(id)),__append('">\n          <div class="form-group">\n            <label for="property-firstName">First Name</label>\n            <input\n              type="text"\n              spellcheck="false"\n              autocomplete="off"\n              class="form-control entity-property"\n              placeholder="Enter first name"\n              id="property.firstName"\n              data-propertyname="firstName"\n              value="'),__line=33,__append(escapeFn(firstName)),__append('">\n          </div>\n          <div class="form-group">\n            <label for="property-lastName">Last Name</label>\n            <input\n              type="text"\n              spellcheck="false"\n              autocomplete="off"\n              class="form-control entity-property"\n              placeholder="Enter last name"\n              id="property.lastName"\n              data-propertyname="lastName"\n              value="'),__line=45,__append(escapeFn(lastName)),__append('">\n          </div>\n          <div class="form-group">\n            <label for="property-email">Email</label>\n            <input\n              type="email"\n              spellcheck="false"\n              autocomplete="off"\n              class="form-control entity-property"\n              placeholder="Enter email (representatives only)"\n              '),__line=55,__append(escapeFn(disabled)),__append('\n              id="property.email"\n              data-propertyname="email"\n              value="'),__line=58,__append(escapeFn(email)),__append('">\n          </div>\n          <div class="form-group">\n            <label for="property-companyTitle">Title</label>\n            <input\n              type="text"\n              spellcheck="false"\n              autocomplete="off"\n              class="form-control entity-property"\n              placeholder="Enter title (representatives only)"\n              '),__line=68,__append(escapeFn(disabled)),__append('\n              id="property.companyTitle"\n              data-propertyname="companyTitle"\n              value="'),__line=71,__append(escapeFn(companyTitle)),__append('">\n          </div>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>'),__line=81}return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t,n){const a=n(0),o=n(2),l=n(3),r=n(4),s=n(5),i=n(1),d=n(18);let c;const p=()=>{const{data:e,submission:t}=o();c.post("updateEntity",{id:e.id},t).then(e=>{r()})},m=e=>{const t=e.currentTarget.getAttribute("data-id")||"";c.post("get",{id:t}).then(e=>{l(d,{rec:e},p)})};e.exports={render:e=>{c=new i(e.API_ENDPOINT),Array.prototype.slice.call(document.querySelectorAll(".cms-enabled .datum-editable.datum-value")||[]).forEach(e=>{const t=e.getAttribute("data-id"),n=e.getAttribute("data-timestamp");a(e,{className:"fas fa-sm fa-edit",title:s(n),onClick:m,data:{id:t}})})}}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,a,o){var l=t.split("\n"),r=Math.max(a-3,0),s=Math.min(l.length,a+3),i=o(n),d=l.slice(r,s).map(function(e,t){var n=t+r+1;return(n==a?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=i,e.message=(i||"ejs")+":"+a+"\n"+d+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<%\n  const rec = locals.rec || {};\n  const id = rec.id || \'\';\n  const label = rec.label || \'\';\n  const subType = rec.subType || \'\';\n  const units = rec.units || \'\';\n  const string = rec.string || \'\';\n  const currency = rec.currency || \'\';\n  const year = rec.year || \'\';\n  let currencyDisabled = (subType !== \'currency\') ? \'disabled\' : \'\';\n  let yearDisabled = (subType !== \'annual\') ? \'disabled\' : \'\';\n%>\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title"><%= label %></h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false" class="submission" data-id="<%= id %>">\n          <div class="form-group">\n            <label for="property-string">Amount<% if(units) { %> (<%= units %>)<% } %></label>\n            <input\n              type="text"\n              spellcheck="false"\n              autocomplete="off"\n              class="form-control entity-property"\n              placeholder="Enter amount (number only)"\n              id="property.string"\n              data-propertyname="string"\n              value="<%= string %>">\n          </div>\n          <div class="form-group">\n            <label for="property-currency">Currency</label>\n            <input\n              type="text"\n              spellcheck="false"\n              autocomplete="off"\n              class="form-control entity-property"\n              placeholder="Enter currency (if applicable)"\n              <%= currencyDisabled %>\n              id="property.currency"\n              data-propertyname="currency"\n              value="<%= currency %>">\n          </div>\n          <div class="form-group">\n            <label for="property-year">Year</label>\n            <input\n              type="text"\n              spellcheck="false"\n              autocomplete="off"\n              class="form-control entity-property"\n              placeholder="Enter year or year range (if applicable)"\n              <%= yearDisabled %>\n              id="property.year"\n              data-propertyname="year"\n              value="<%= year %>">\n          </div>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>',__filename=void 0;try{var __output=[],__append=__output.push.bind(__output);with(locals||{}){const rec=locals.rec||{},id=rec.id||"",label=rec.label||"",subType=rec.subType||"",units=rec.units||"",string=rec.string||"",currency=rec.currency||"",year=rec.year||"";let currencyDisabled="currency"!==subType?"disabled":"",yearDisabled="annual"!==subType?"disabled":"";__line=12,__append('\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title">'),__line=17,__append(escapeFn(label)),__append('</h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false" class="submission" data-id="'),__line=23,__append(escapeFn(id)),__append('">\n          <div class="form-group">\n            <label for="property-string">Amount'),__line=25,units&&(__append(" ("),__append(escapeFn(units)),__append(")")),__append('</label>\n            <input\n              type="text"\n              spellcheck="false"\n              autocomplete="off"\n              class="form-control entity-property"\n              placeholder="Enter amount (number only)"\n              id="property.string"\n              data-propertyname="string"\n              value="'),__line=34,__append(escapeFn(string)),__append('">\n          </div>\n          <div class="form-group">\n            <label for="property-currency">Currency</label>\n            <input\n              type="text"\n              spellcheck="false"\n              autocomplete="off"\n              class="form-control entity-property"\n              placeholder="Enter currency (if applicable)"\n              '),__line=44,__append(escapeFn(currencyDisabled)),__append('\n              id="property.currency"\n              data-propertyname="currency"\n              value="'),__line=47,__append(escapeFn(currency)),__append('">\n          </div>\n          <div class="form-group">\n            <label for="property-year">Year</label>\n            <input\n              type="text"\n              spellcheck="false"\n              autocomplete="off"\n              class="form-control entity-property"\n              placeholder="Enter year or year range (if applicable)"\n              '),__line=57,__append(escapeFn(yearDisabled)),__append('\n              id="property.year"\n              data-propertyname="year"\n              value="'),__line=60,__append(escapeFn(year)),__append('">\n          </div>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>'),__line=70}return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t,n){const a=n(0),o=n(1),l=n(2),r=n(3),s=n(4),i=n(5),d=n(20);let c;const p=()=>{const{data:e,submission:t}=l();c.post("updateEntity",{id:e.id},t).then(e=>{s()})},m=e=>{const t=e.currentTarget.getAttribute("data-id")||"";c.post("get",{id:t}).then(e=>{r(d,{rec:e},p)})};e.exports={render:e=>{c=new o(e.API_ENDPOINT),Array.prototype.slice.call(document.querySelectorAll(".cms-enabled .datum-editable.datum-array")||[]).forEach(e=>{const t=e.getAttribute("data-id"),n=e.getAttribute("data-timestamp")||"";a(e,{className:"fas fa-sm fa-edit",title:i(n),onClick:m,data:{id:t}})})}}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,a,o){var l=t.split("\n"),r=Math.max(a-3,0),s=Math.min(l.length,a+3),i=o(n),d=l.slice(r,s).map(function(e,t){var n=t+r+1;return(n==a?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=i,e.message=(i||"ejs")+":"+a+"\n"+d+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<%\n  const rec = locals.rec || {};\n  const id = rec.id || \'\';\n  const label = rec.label || \'\';\n  const units = rec.units || \'\';\n  const rows = rec.rows || [];\n%>\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title"><%= label %><% if(units) { %> (<%= units %>)<% } %></h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false" class="submission" data-id="<%= id %>">\n          <div style="max-height: 300px; overflow-y: scroll; overflow-x: hidden; padding-right: 15px;">\n            <% rows.forEach((row) => { %>\n              <div class="form-group row">\n                <label class="col-6 col-form-label col-form-label-sm" for="property-row-<%= row.id %>"><%= row.label %></label>\n                <div class="col-6">\n                  <input\n                    type="text"\n                    spellcheck="false"\n                    autocomplete="off"\n                    class="form-control form-control-sm entity-property"\n                    id="property.rows.<%= row.id %>"\n                    data-propertyname="rows"\n                    data-row-id="<%= row.id %>"\n                    value="<%= row.string %>">\n                </div>\n              </div>\n            <% }) %>\n          </div>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>',__filename=void 0;try{var __output=[],__append=__output.push.bind(__output);with(locals||{}){const rec=locals.rec||{},id=rec.id||"",label=rec.label||"",units=rec.units||"",rows=rec.rows||[];__line=7,__append('\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title">'),__line=12,__append(escapeFn(label)),units&&(__append(" ("),__append(escapeFn(units)),__append(")")),__append('</h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false" class="submission" data-id="'),__line=18,__append(escapeFn(id)),__append('">\n          <div style="max-height: 300px; overflow-y: scroll; overflow-x: hidden; padding-right: 15px;">\n            '),__line=20,rows.forEach(e=>{__append('\n              <div class="form-group row">\n                <label class="col-6 col-form-label col-form-label-sm" for="property-row-'),__line=22,__append(escapeFn(e.id)),__append('">'),__append(escapeFn(e.label)),__append('</label>\n                <div class="col-6">\n                  <input\n                    type="text"\n                    spellcheck="false"\n                    autocomplete="off"\n                    class="form-control form-control-sm entity-property"\n                    id="property.rows.'),__line=29,__append(escapeFn(e.id)),__append('"\n                    data-propertyname="rows"\n                    data-row-id="'),__line=31,__append(escapeFn(e.id)),__append('"\n                    value="'),__line=32,__append(escapeFn(e.string)),__append('">\n                </div>\n              </div>\n            '),__line=35}),__append('\n          </div>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>'),__line=45}return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t,n){const a=n(0),o=n(6),l=n(1),r=n(2),s=n(3),i=n(22),d=n(7),c=n(4),p=n(8),m=n(5),u=n(9);let _,b,y;const f=()=>{const{data:e,submission:t}=r(),n={id:e.id,lang:b};_.post("updateTranslation",n,t).then(e=>{c()})},h=e=>{const t=e.currentTarget,n=t.getAttribute("data-id")||"",a=t.getAttribute("data-propertyname")||"text";_.post("get",{id:n,lang:b}).then(e=>{s(i,{rec:e,propertyName:a},f)})},g=e=>{const t=e.currentTarget,n=t.getAttribute("data-id")||"",a=t.getAttribute("data-fromlang")||"",o=t.getAttribute("data-tolang")||"",l=t.getAttribute("data-propertyname")||"";s(d,{fromLang:a,toLang:o},()=>{const e={propertyName:l,id:n,fromLang:a,toLang:o};_.post("translate",e).then(()=>{c()})})};e.exports={render:e=>{_=new l(e.API_ENDPOINT),({SRC_LANGS:y,LANG:b}=e),Array.prototype.slice.call(document.querySelectorAll(".cms-enabled .datum-editable.datum-text")||[]).forEach(e=>{const t=e.getAttribute("data-id"),n=e.getAttribute("data-propertyname")||"text",l=(e.getAttribute("data-timestamps")||"").split(","),r=p(l,n,b),s=u(r);y.forEach(o=>{a(e,{text:o.toUpperCase(),title:`Replace with Google translation using ${o.toLocaleUpperCase()} as the source`,onClick:g,data:{id:t,fromlang:o,tolang:b,propertyName:n}})}),o(e,{isGoogleTranslation:s}),a(e,{className:"fas fa-sm fa-edit",title:m(r),onClick:h,data:{id:t,propertyName:n}})})}}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,a,o){var l=t.split("\n"),r=Math.max(a-3,0),s=Math.min(l.length,a+3),i=o(n),d=l.slice(r,s).map(function(e,t){var n=t+r+1;return(n==a?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=i,e.message=(i||"ejs")+":"+a+"\n"+d+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<%\n  const rec = locals.rec || {};\n  const propertyName = locals.propertyName || \'text\';\n  const [propertyBaseName, propertyType] = propertyName.split(\'.\');\n  const id = rec.id || \'\';\n  const label = rec.label || \'\';\n  let text = \'\';\n  if (rec[propertyBaseName]) {\n    if (propertyType) text = rec[propertyBaseName][propertyType] || \'\';\n    else text = rec[propertyBaseName];\n  }\n%>\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title"><%= label %></h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false" class="submission" data-id="<%= id %>">\n          <div class="summernote summernote-text"  id="summernote.<%= propertyBaseName %>" data-propertyname="<%= propertyBaseName %>"><%- text %></div>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>',__filename=void 0;try{var __output=[],__append=__output.push.bind(__output);with(locals||{}){const rec=locals.rec||{},propertyName=locals.propertyName||"text",[propertyBaseName,propertyType]=propertyName.split("."),id=rec.id||"",label=rec.label||"";let text="";rec[propertyBaseName]&&(text=propertyType?rec[propertyBaseName][propertyType]||"":rec[propertyBaseName]),__line=12,__append('\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title">'),__line=17,__append(escapeFn(label)),__append('</h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false" class="submission" data-id="'),__line=23,__append(escapeFn(id)),__append('">\n          <div class="summernote summernote-text"  id="summernote.'),__line=24,__append(escapeFn(propertyBaseName)),__append('" data-propertyname="'),__append(escapeFn(propertyBaseName)),__append('">'),__append(text),__append('</div>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>'),__line=33}return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t,n){const a=n(0),o=n(6),l=n(1),r=n(2),s=n(3),i=n(24),d=n(7),c=n(4),p=n(8),m=n(5),u=n(9);let _,b,y;const f=()=>{const{data:e,submission:t}=r(),n={id:e.id,lang:b};_.post("updateTranslation",n,t).then(e=>{c()})},h=e=>{const t=e.currentTarget.getAttribute("data-id")||"";_.post("get",{id:t,lang:b}).then(e=>{s(i,{rec:e},f)})},g=e=>{const t=e.currentTarget,n=t.getAttribute("data-id")||"",a=t.getAttribute("data-fromlang")||"",o=t.getAttribute("data-tolang")||"",l=t.getAttribute("data-propertyname")||"text";s(d,{fromLang:a,toLang:o},()=>{const e={propertyName:l,id:n,fromLang:a,toLang:o};_.post("translate",e).then(()=>{c()})})};e.exports={render:e=>{_=new l(e.API_ENDPOINT),({SRC_LANGS:y,LANG:b}=e),Array.prototype.slice.call(document.querySelectorAll(".cms-enabled .datum-editable.datum-framework")||[]).forEach(e=>{const t=e.getAttribute("data-id"),n=e.getAttribute("data-propertyname")||"",l=(e.getAttribute("data-timestamps")||"").split(","),r=p(l,"text",b),s=u(r);y.forEach(o=>{a(e,{text:o.toUpperCase(),title:`Replace with Google translation using ${o.toLocaleUpperCase()} as the source`,onClick:g,data:{id:t,fromlang:o,tolang:b,propertyName:n}})}),a(e,{className:"fas fa-sm fa-edit",title:m(r),onClick:h,data:{id:t,propertyName:n}}),o(e,{isGoogleTranslation:s})})}}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,a,o){var l=t.split("\n"),r=Math.max(a-3,0),s=Math.min(l.length,a+3),i=o(n),d=l.slice(r,s).map(function(e,t){var n=t+r+1;return(n==a?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=i,e.message=(i||"ejs")+":"+a+"\n"+d+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<%\n  const rec = locals.rec || {};\n  const propertyName = locals.propertyName || \'text\';\n  const id = rec.id || \'\';\n  const label = rec.label || \'\';\n  const text = rec[propertyName];\n%>\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title"><%= label %></h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false" class="submission" data-id="<%= id %>">\n          <div\n            class="summernote summernote-text"\n            id="summernote.text"\n            data-propertyname="<%= propertyName %>"><%- text %></div>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>',__filename=void 0;try{var __output=[],__append=__output.push.bind(__output);with(locals||{}){const rec=locals.rec||{},propertyName=locals.propertyName||"text",id=rec.id||"",label=rec.label||"",text=rec[propertyName];__line=7,__append('\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title">'),__line=12,__append(escapeFn(label)),__append('</h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false" class="submission" data-id="'),__line=18,__append(escapeFn(id)),__append('">\n          <div\n            class="summernote summernote-text"\n            id="summernote.text"\n            data-propertyname="'),__line=22,__append(escapeFn(propertyName)),__append('">'),__append(text),__append('</div>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>'),__line=31}return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t,n){const a=n(0),o=n(6),l=n(26),r=n(1),s=n(2),i=n(3),d=n(8),c=n(5),p=n(9),m=n(4),u=n(27),_=n(7),b=n(28),y=n(29),f=n(30);let h,g,v,x,N;const C=()=>{const{data:e,submission:t}=s();N.post("updateEntityProperty",{id:e.id},t).then(e=>{m()})},T=e=>{const t=e.currentTarget.getAttribute("data-id")||"";N.post("get",{id:t,lang:x}).then(e=>{i(y,{rec:e},()=>{N.post("delete",{id:t}).then(e=>{m()})})})},w=e=>{const t=e.currentTarget.getAttribute("data-id")||"";N.post("get",{id:t,lang:x}).then(e=>{i(b,{rec:e},C)})},E=e=>{const t=e.currentTarget,n=t.getAttribute("data-id")||"",a=t.getAttribute("data-propertyname")||"",o=t.getAttribute("data-lang")||"",l=Boolean(o)?"updateTranslation":"updateEntityProperty";N.post("get",{id:n,lang:x}).then(e=>{i(u,{rec:e,propertyName:a},(e=>{const{data:t,submission:n}=s();N.post(e,{id:t.id,lang:x},n).then(e=>{m()})}).bind(null,l))})},A=e=>{const t=e.currentTarget,n=t.getAttribute("data-id")||"",a=t.getAttribute("data-fromlang")||"",o=t.getAttribute("data-tolang")||"",l=t.getAttribute("data-propertyname")||"";i(_,{fromLang:a,toLang:o},()=>{const e={propertyName:l,id:n,fromLang:a,toLang:o,type:"string"};N.post("translate",e).then(()=>{m(n)})})};e.exports={render:e=>{N=new r(e.API_ENDPOINT),({LANGS:h,SRC_LANGS:g,LANG:x,REGION_ID:v}=e),Array.prototype.slice.call(document.querySelectorAll(".cms-enabled .partnership-container")||[]).forEach(e=>{const t=e.getAttribute("id"),n=(e.getAttribute("data-timestamps")||"").split(","),r=[];h.forEach(e=>{e!==x&&r.push([e.toUpperCase(),`/${e}/Partnerships/${v}/?scrollTo=${t}`])}),l(e,{selector:".box-heading",text:x.toUpperCase(),items:r}),a(e,{className:"fas fa-sm fa-times-circle",selector:".box-heading",onClick:T,data:{id:t}}),Array.prototype.slice.call(e.querySelectorAll(".datum-string")||[]).forEach(e=>{const l=e.getAttribute("data-lang")||"",r=Boolean(l),s=e.getAttribute("data-propertyname"),i=r?d(n,s,x):d(n,s),m=p(i);e.classList.contains("datum-translatable")&&g.forEach(n=>{a(e,{text:n.toUpperCase(),title:`Replace with Google translation using ${n.toLocaleUpperCase()} as the source`,onClick:A,data:{id:t,fromlang:n,tolang:x,propertyName:s}})}),r&&o(e,{isGoogleTranslation:m}),a(e,{className:"fas fa-sm fa-edit",onClick:E,title:c(i),data:{id:t,lang:l,propertyName:s}})});const s=e.querySelector(".datum-partnership-jurisdictions");if(s){const e=d(n,"jurisdictions");a(s,{className:"fas fa-sm fa-edit",onClick:w,title:c(e),data:{id:t}})}});const t=document.querySelector(".cms-enabled .partnerships");if(t){t.insertAdjacentHTML("afterbegin",f({regionId:v}));const e=()=>{let e="";const t=document.getElementById("property-partnership-name");if(t&&(e=t.value||""),!e)return;const n={modelName:"partnership",regionId:v,lang:x},a={name:e};N.post("insert",n,a).then(e=>{m(e.id)})};if(document.getElementById("partnership-add").addEventListener("click",e),window.location.search){const e={};if(window.location.search.substring(1).split("&").forEach(t=>{const[n,a]=t.split("=");e[n]=a}),e.scrollTo){const t=document.getElementById(e.scrollTo);if(t){t.scrollIntoView();let n=window.location.origin;window.location.pathname&&(n+=window.location.pathname),window.history.replaceState({id:e.scrollTo},"",n)}}}}}}},function(e,t,n){"use strict";e.exports=(e,t={})=>{let n=(t.items||[]).map(e=>`<a class="dropdown-item" href="${e[1]}">${e[0]}</a>`).join("");n=`<div class="dropdown-menu">${n}</div>`,n=`<a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">${t.text}</a>`+n;const a=document.createElement("div");a.className="dropdown dropdown-link",a.innerHTML=n;const o=t.selector||".heading-datum",l=e.querySelector(o);l&&l.firstChild?l.insertBefore(a,l.firstChild):e.appendChild(a)}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,a,o){var l=t.split("\n"),r=Math.max(a-3,0),s=Math.min(l.length,a+3),i=o(n),d=l.slice(r,s).map(function(e,t){var n=t+r+1;return(n==a?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=i,e.message=(i||"ejs")+":"+a+"\n"+d+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<%\n  const rec = locals.rec || {};\n  const propertyName = locals.propertyName || \'string\';\n  const [propertyBaseName, propertyType] = propertyName.split(\'.\');\n  const id = rec.id || \'\';\n  let label = \'\';\n  let string = \'\';\n  if (rec[propertyBaseName]) {\n    label = rec[propertyBaseName].label || \'\';\n    if (propertyType) string = rec[propertyBaseName][propertyType] || \'\';\n    else string = rec[propertyBaseName];\n  }\n%>\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-lg modal-dialog-centered" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title"><%= label %></h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false" class="submission" data-id="<%= id %>">\n          <div class="form-group">\n            <label for="property-string"><%= label %></label>\n            <textarea\n              rows="3"\n              type="text"\n              spellcheck="false"\n              autocomplete="off"\n              class="form-control entity-property"\n              placeholder="Enter <%= label %>"\n              id="property.string"\n              data-propertyname="<%= propertyBaseName %>"><%- string %></textarea>\n          </div>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>',__filename=void 0;try{var __output=[],__append=__output.push.bind(__output);with(locals||{}){const rec=locals.rec||{},propertyName=locals.propertyName||"string",[propertyBaseName,propertyType]=propertyName.split("."),id=rec.id||"";let label="",string="";rec[propertyBaseName]&&(label=rec[propertyBaseName].label||"",string=propertyType?rec[propertyBaseName][propertyType]||"":rec[propertyBaseName]),__line=13,__append('\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-lg modal-dialog-centered" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title">'),__line=18,__append(escapeFn(label)),__append('</h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false" class="submission" data-id="'),__line=24,__append(escapeFn(id)),__append('">\n          <div class="form-group">\n            <label for="property-string">'),__line=26,__append(escapeFn(label)),__append('</label>\n            <textarea\n              rows="3"\n              type="text"\n              spellcheck="false"\n              autocomplete="off"\n              class="form-control entity-property"\n              placeholder="Enter '),__line=33,__append(escapeFn(label)),__append('"\n              id="property.string"\n              data-propertyname="'),__line=35,__append(escapeFn(propertyBaseName)),__append('">'),__append(string),__append('</textarea>\n          </div>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>'),__line=45}return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,a,o){var l=t.split("\n"),r=Math.max(a-3,0),s=Math.min(l.length,a+3),i=o(n),d=l.slice(r,s).map(function(e,t){var n=t+r+1;return(n==a?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=i,e.message=(i||"ejs")+":"+a+"\n"+d+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<%\n  const rec = locals.rec || {};\n  const id = rec.id || \'\';\n  const propertyName = \'jurisdictionalMembership\';\n  let array = [];\n  if (rec[propertyName] && Array.isArray(rec[propertyName].array)) {\n    array = rec[propertyName].array;\n  }\n%>\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered modal" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title">Jurisdictions</h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false" class="submission" data-id="<%= id %>">\n          <div class="btn-group-toggle" data-toggle="buttons">\n          <% array.forEach((jurisdiction) => { %>\n            <label class="btn btn-outline-secondary btn-sm btn-block<% if(jurisdiction.isMember) { %> active<% } %>">\n              <input\n                class="form-check-input entity-property"\n                type="checkbox"\n                <% if(jurisdiction.isMember) { %>checked=""<% } %>\n                value="<%= jurisdiction.slug %>"\n                id="property.jurisdictions.items.<%= jurisdiction.slug %>"\n                data-propertyname="jurisdictions"\n                data-item="<%= jurisdiction.slug %>"\n              </input>\n              <%= jurisdiction.name %>\n            </label>\n          <% }); %>\n          </div>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>',__filename=void 0;try{var __output=[],__append=__output.push.bind(__output);with(locals||{}){const rec=locals.rec||{},id=rec.id||"",propertyName="jurisdictionalMembership";let array=[];rec[propertyName]&&Array.isArray(rec[propertyName].array)&&(array=rec[propertyName].array),__line=9,__append('\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered modal" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title">Jurisdictions</h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false" class="submission" data-id="'),__line=20,__append(escapeFn(id)),__append('">\n          <div class="btn-group-toggle" data-toggle="buttons">\n          '),__line=22,array.forEach(e=>{__append('\n            <label class="btn btn-outline-secondary btn-sm btn-block'),__line=23,e.isMember&&__append(" active"),__append('">\n              <input\n                class="form-check-input entity-property"\n                type="checkbox"\n                '),__line=27,e.isMember&&__append('checked=""'),__append('\n                value="'),__line=28,__append(escapeFn(e.slug)),__append('"\n                id="property.jurisdictions.items.'),__line=29,__append(escapeFn(e.slug)),__append('"\n                data-propertyname="jurisdictions"\n                data-item="'),__line=31,__append(escapeFn(e.slug)),__append('"\n              </input>\n              '),__line=33,__append(escapeFn(e.name)),__append("\n            </label>\n          "),__line=35}),__append('\n          </div>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary" id="modal-submit">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>'),__line=45}return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,a,o){var l=t.split("\n"),r=Math.max(a-3,0),s=Math.min(l.length,a+3),i=o(n),d=l.slice(r,s).map(function(e,t){var n=t+r+1;return(n==a?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=i,e.message=(i||"ejs")+":"+a+"\n"+d+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<%\n  const rec = locals.rec || {};\n  const id = rec.id || \'\';\n  const name = rec.name.string || \'\';\n%>\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title">Confirm Delete</h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false">\n        Really delete <strong><%= name %></strong>? <span class="text-danger">It will be deleted from the member nation and all jurisdictions!</span>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>\n        <button type="button" class="btn btn-danger" id="modal-submit">Delete</button>\n      </div>\n    </div>\n  </div>\n</div>',__filename=void 0;try{var __output=[],__append=__output.push.bind(__output);with(locals||{}){const rec=locals.rec||{},id=rec.id||"",name=rec.name.string||"";__line=5,__append('\n<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">\n  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="modal-title">Confirm Delete</h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form autocomplete="off" spellcheck="false">\n        Really delete <strong>'),__line=17,__append(escapeFn(name)),__append('</strong>? <span class="text-danger">It will be deleted from the member nation and all jurisdictions!</span>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>\n        <button type="button" class="btn btn-danger" id="modal-submit">Delete</button>\n      </div>\n    </div>\n  </div>\n</div>'),__line=26}return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,a,o){var l=t.split("\n"),r=Math.max(a-3,0),s=Math.min(l.length,a+3),i=o(n),d=l.slice(r,s).map(function(e,t){var n=t+r+1;return(n==a?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=i,e.message=(i||"ejs")+":"+a+"\n"+d+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<form>\n  <div class="input-group mb-3">\n    <div class="input-group-prepend">\n      <button\n        id="partnership-add"\n        class="btn btn-outline-secondary"\n        type="button"\n        data-id="partnership-batch.jsnc3bxd-brazil-jsnc3bxd"\n        data-method="insert">\n        <i class="fas fa-sm fa-plus"></i></button>\n      </button>\n    </div>\n    <input\n      type="text"\n      id="property-partnership-name"\n      class="form-control"\n      placeholder="Enter name of partnership to add"\n      spellcheck="false"\n      autocomplete="off">\n  </div>\n</form>',__filename=void 0;try{var __output=[],__append=__output.push.bind(__output);with(locals||{})__append('<form>\n  <div class="input-group mb-3">\n    <div class="input-group-prepend">\n      <button\n        id="partnership-add"\n        class="btn btn-outline-secondary"\n        type="button"\n        data-id="partnership-batch.jsnc3bxd-brazil-jsnc3bxd"\n        data-method="insert">\n        <i class="fas fa-sm fa-plus"></i></button>\n      </button>\n    </div>\n    <input\n      type="text"\n      id="property-partnership-name"\n      class="form-control"\n      placeholder="Enter name of partnership to add"\n      spellcheck="false"\n      autocomplete="off">\n  </div>\n</form>'),__line=21;return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t,n){"use strict";n.r(t);const a="rgba(60,179,113, 1)",o="rgba(105, 105, 105, 1)",l=e=>{const t=e.replace(/&quot;/g,'"');return JSON.parse(t)};var r={deforestationRates(e){const t=$(e),n=e.getContext("2d"),r=t.attr("data-referencelabel"),s=t.attr("data-ratescategorylabel");let i=Number.parseFloat(t.attr("data-goalvalue"));const d=t.attr("data-goalyear"),c=t.attr("data-goallabel");i=i<1?i.toFixed(1):i.toFixed(0);let p,m=t.attr("data-referenceyear")||"";const u=l(t.attr("data-referencerates")),_=l(t.attr("data-rates")),b=[];u.forEach(e=>{const[t,n]=String(e.year).split("-").map(e=>Number.parseInt(e.trim(),10)),{amount:a}=e;if(n)for(let e=t;e<=n;e+=1){const t=String(e),n=b.find(e=>e.year===t);n?n.y=a:b.push({x:t,y:a})}else{const e=String(t),n=b.find(t=>t.year===e);n?n.y=a:b.push({x:e,y:a})}}),!m&&b.length>1&&(m=b[0].x),m&&b.forEach(e=>{e.x<=m&&(p=e.y)});let y={},f={},h={},g={};if(b.length&&(y={type:"line",data:b,pointStyle:"line",steppedLine:"before",borderWidth:1.8,pointRadius:0,fill:!1,borderColor:"rgba(235, 162, 54, 1)",label:r}),m&&d&&m!==d&&!Number.isNaN(p)&&!Number.isNaN(i)&&(f={type:"line",pointStyle:"line",borderWidth:1.5,borderDash:[5,5],borderColor:a,backgroundColor:"rgba(230,250,230, 1)",pointHitRadius:0,data:[{x:m,y:p},{x:d,y:i}]},_.forEach(e=>{e.achievesGoal=!1,e.year<m||((e,t,n)=>{if(!Array.isArray(e))return!1;const a=e.find(e=>e.x===t);if(a)return n<=a.y;const o=e[0],l=e[e.length-1];if(l.x===o.x)return!1;const r=(l.y-o.y)/(l.x-o.x);return!Number.isNaN(r)&&n<=o.y+r*(t-o.x)})([{x:m,y:p},{x:d,y:i}],e.year,e.amount)&&(e.achievesGoal=!0)})),i&&d){const e=_[_.length-1].year;if(d>e){const t=d-e;for(let n=1;n<=t;n+=1)_.push({year:String(1*e+n),amount:null})}g={type:"scatter",pointStyle:"star",radius:9,hoverRadius:9,pointHoverRadius:9,borderWidth:2,pointHoverBorderWidth:2,borderColor:a,pointHitRadius:0,data:[{x:d,y:i}],label:c}}const v=_.map(e=>{return e.achievesGoal?{pointBackgroundColor:a,pointBorderColor:a}:{pointBackgroundColor:"rgba(256, 256, 256, 1)",pointBorderColor:"#5d83b4"}});h={fill:!1,spanGaps:!1,data:_.map(e=>e.amount),borderWidth:1.5,pointRadius:5,pointHoverRadius:5,pointBackgroundColor:v.map(e=>e.pointBackgroundColor),pointHoverBackgroundColor:v.map(e=>e.pointBackgroundColor),pointBorderColor:v.map(e=>e.pointBorderColor),pointBorderWidth:2,pointHoverBorderWidth:2,borderColor:"#5d83b4"};const x={type:"line",data:{labels:_.map(e=>e.year),datasets:[y,g,h,f]},options:{tooltips:{displayColors:!1,intersect:!1,mode:"nearest",backgroundColor:"rgba(256, 256, 256, .8)",titleFontColor:o,bodyFontColor:o,borderColor:o,borderWidth:1.3,callbacks:{title:(e,t)=>{if(!Array.isArray(e)||!e.length)return null;const{index:n,datasetIndex:a}=e[0];if([1].includes(a))return!1;let o="";return o=0===a?r:3===a?c:t.labels[n]},label:(e,t)=>{const{index:n,datasetIndex:a}=e;if([1].includes(a))return!1;const o=t.datasets[a].data[n];let l="";return l=0===a?`${e.yLabel} km²`:3===a?`${o.y} km² (${o.x})`:`${e.yLabel} km²`}}},legend:{display:!0,labels:{usePointStyle:!0,filter:e=>Boolean(e.text)}},title:{display:!1},scales:{xAxes:[{scaleLabel:{display:!0,labelString:s},ticks:{callback:e=>`'${String(e).substr(2)}`}}],yAxes:[{scaleLabel:{display:!0,labelString:"km²"},ticks:{beginAtZero:!0}}]},layout:{padding:{left:20,right:20,top:20,bottom:20}}}};Chart.defaults.global.defaultFontSize=14;new Chart(n,x)}};const s=n(10);window.onload=()=>{s.render("http://34.68.57.233/api");const e=document.querySelectorAll(".deforestationRateChart");e.length&&Array.prototype.slice.call(e).forEach(e=>{r.deforestationRates(e)})}}]);