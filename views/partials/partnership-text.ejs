<%
  const datum = locals.datum;
  let rec;
  let text = '';
  let label = '';
  let timestamps = '';
  if (datum && locals.propertyName) {
    timestamps = (datum.timestamps || []).filter(t => (t.includes(propertyName))) || [];
    rec = locals.datum[locals.propertyName];
    text = (rec.text || '').trim();
    label = rec.label ||'';
  }
  let outerClassName = 'datum datum-partnership datum-text datum-editable';
  if (!text.length) outerClassName += ' hidden'; // include ability to "hide" empty property fields
%>

<% if (rec) { %>
<div
  class="<%= outerClassName %>"
  data-id="<%= datum.id %>"
  data-timestamps="<%= timestamps %>"
  data-propertyname="<%= locals.propertyName %>.text">
  <div class="heading-datum">
    <span class="datum-label"><%= label %></span>
  </div>
  <div class="content-datum"><%- text %></div>
</div>
<% } %>

